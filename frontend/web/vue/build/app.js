webpackJsonp([3],{"7zck":function(t,e){},Fs8J:function(t,e){},"N7/A":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),n=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,r={name:"LoginForm",data:function(){return{email:"",password:"",valid:!1,emailRules:[function(t){return!!t||"Обязательное поле"},function(t){return n.test(t)||"E-mail некорректное значение"}],pasRules:[function(t){return!!t||"Обязательное поле"},function(t){return t.length>=6||"Минимум 6  символов"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{togleLoginDialog:function(){this.$store.dispatch("togleLoginDialog")},togleRegisterDialog:function(){this.togleLoginDialog(),this.$store.dispatch("togleRegisterDialog")},togleResetPasswordDialog:function(){this.togleLoginDialog(),this.$store.dispatch("togleResetPasswordDialog")},onLogin:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then(function(){t.$store.dispatch("togleLoginDialog",!1)}).catch(function(t){return console.log(t)})}}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("\n            Вход в личный кабинет\n        ")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:t.togleLoginDialog}},[i("v-icon",[t._v("close")])],1)],1),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{"prepend-icon":"mail",name:"email",label:"e-mail",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Пароль",type:"password",rules:t.pasRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),i("div",{staticClass:"text-xs-center"},[i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.togleResetPasswordDialog}},[t._v("Забыли пароль?")])],1),t._v(" "),i("div",{staticClass:"text-xs-center"},[i("p",{staticClass:"subheading"},[t._v("Не зарегистрированы?\n            "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.togleRegisterDialog}},[t._v("Регистрация")])],1)]),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.onLogin}},[t._v("Войти\n        ")])],1)],1)},staticRenderFns:[]},a=i("VU/8")(r,s,!1,null,null,null).exports,l=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,c={name:"RegistrForm",data:function(){var t=this;return{name:"",email:"",password:"",confirmPassword:"",valid:!1,emailRules:[function(t){return!!t||"Обязательное поле"},function(t){return l.test(t)||"E-mail некорректное значение"}],pasRules:[function(t){return!!t||"Обязательное поле"},function(t){return t.length>=6||"Минимум 6  символов"}],nameRules:[function(t){return!!t||"Обязательное поле"},function(t){return t.length>=3||"Минимум 3  символов"}],confirmPasRules:[function(t){return!!t||"Обязательное поле"},function(e){return e===t.password||"Должно совпадать с первым паролем"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{togleRegisterDialog:function(t,e){t.commit;this.$store.dispatch("togleRegisterDialog")},onLogin:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then(function(){t.$router.push("/user"),t.$store.dispatch("togleRegisterDialog",!1)}).catch(function(t){return console.log(t)})}}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Форма регистрации")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:t.togleRegisterDialog}},[i("v-icon",[t._v("close")])],1)],1),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{"prepend-icon":"person",name:"email",label:"Имя",type:"text",rules:t.nameRules,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),i("v-text-field",{attrs:{"prepend-icon":"mail",name:"email",label:"e-mail",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Пароль",type:"password",rules:t.pasRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("v-text-field",{attrs:{"prepend-icon":"lock",name:"confirmPassword",label:"Повторите пароль",type:"password",rules:t.confirmPasRules,required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.onLogin}},[t._v("Зарегистрироваться\n        ")])],1)],1)},staticRenderFns:[]},d=i("VU/8")(c,u,!1,null,null,null).exports,v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"elevation-12"},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Восстановление доступа")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:t.togleResetPasswordDialog}},[i("v-icon",[t._v("close")])],1)],1),t._v(" "),i("v-card-text",[i("p",{staticClass:"subheading"},[t._v("Укажите адрес электронной почты, чтобы получить временный пароль")]),t._v(" "),i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{"prepend-icon":"mail",name:"email",label:"e-mail",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:t.onLogin}},[t._v("Восстановить пароль\n        ")])],1)],1)},staticRenderFns:[]},g={components:{ResetPasswordForm:i("VU/8")({name:"ResetPasswordForm",data:function(){return{email:"",valid:!1,emailRules:[function(t){return!!t||"Обязательное поле"},function(t){return/.+@.+/.test(t)||"E-mail некорректное значение"}]}},computed:{},methods:{togleResetPasswordDialog:function(t,e){t.commit,this.$store.dispatch("togleResetPasswordDialog")},onLogin:function(){this.$refs.form.validate()&&this.email}}},v,!1,null,null,null).exports,RegistrForm:d,LoginForm:a},data:function(){return{drawer:!1}},methods:{togleLoginDialog:function(){this.$store.dispatch("togleLoginDialog")},togleRegisterDialog:function(){this.$store.dispatch("togleRegisterDialog")},togleResetPasswordDialog:function(){this.$store.dispatch("togleResetPasswordDialog")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}},computed:{loginDialog:function(){return this.$store.getters.loginDialog},registerDialog:function(){return this.$store.getters.registerDialog},resetPasswordDialog:function(){return this.$store.getters.resetPasswordDialog},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){if(this.isUserLoggedIn)return[{title:"Главная",icon:"home",url:"/"},{title:"Доски",icon:"bookmark_border",url:"/board"},{title:"Профиль",icon:"account_circle",url:"/user"}]}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",[t._l(t.links,function(e){return i("v-list-tile",{key:e.title,attrs:{to:e.url}},[i("v-list-tile-action",[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-tile-content",[i("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1)],1)}),t._v(" "),i("v-divider"),t._v(" "),i("v-list",[t.isUserLoggedIn?t._e():i("v-list-tile",{on:{click:t.togleLoginDialog}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v("lock")]),t._v("\n                        Войти\n                    ")],1)],1)],1),t._v(" "),i("v-list",[t.isUserLoggedIn?t._e():i("v-list-tile",{on:{click:t.togleRegisterDialog}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v("face")]),t._v("\n                        Регистрация\n                    ")],1)],1)],1),t._v(" "),i("v-list",[t.isUserLoggedIn?i("v-list-tile",{on:{click:t.onLogout}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n                        Выйти\n                    ")],1)],1):t._e()],1)],2)],1),t._v(" "),i("v-toolbar",{attrs:{app:"",dark:"",color:"primary"}},[i("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),i("v-toolbar-title",[i("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("\n                app-commands\n            ")])],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,function(e){return i("v-btn",{key:e.title,attrs:{to:e.url,flat:""}},[i("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n                "+t._s(e.title)+"\n            ")],1)}),t._v(" "),t.isUserLoggedIn?t._e():i("v-btn",{attrs:{flat:""},on:{click:t.togleLoginDialog}},[i("v-icon",{attrs:{left:""}},[t._v("lock")]),t._v("\n                Войти\n            ")],1),t._v(" "),t.isUserLoggedIn?t._e():i("v-btn",{attrs:{flat:""},on:{click:t.togleRegisterDialog}},[i("v-icon",{attrs:{left:""}},[t._v("face")]),t._v("\n                Регистрация\n            ")],1),t._v(" "),t.isUserLoggedIn?i("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[i("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n                Выйти\n            ")],1):t._e(),t._v(" "),i("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{dark:"",icon:""}},o),[i("v-icon",[t._v("account_circle\n                        ")])],1)]}}])},[t._v(" "),i("v-list",t._l(t.links,function(e){return i("v-list-tile",{key:e.title,attrs:{to:e.url},on:{click:function(t){}}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n                            "+t._s(e.title)+"\n                        ")],1)],1)}),1),t._v(" "),i("v-list",[t.isUserLoggedIn?t._e():i("v-list-tile",{on:{click:t.togleLoginDialog}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v("lock")]),t._v("\n                            Войти\n                        ")],1)],1)],1),t._v(" "),i("v-list",[t.isUserLoggedIn?t._e():i("v-list-tile",{on:{click:t.togleRegisterDialog}},[i("v-list-tile-title",[i("v-icon",{attrs:{left:""}},[t._v("face")]),t._v("\n                            Регистрация\n                        ")],1)],1)],1)],1)],2)],1),t._v(" "),i("v-content",[i("router-view"),t._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[i("login-form")],1),t._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.registerDialog,callback:function(e){t.registerDialog=e},expression:"registerDialog"}},[i("v-card",[i("registr-form")],1)],1),t._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.resetPasswordDialog,callback:function(e){t.resetPasswordDialog=e},expression:"resetPasswordDialog"}},[i("v-card",[i("reset-password-form")],1)],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(g,m,!1,function(t){i("N7/A")},"data-v-ed5c8fe0",null).exports,p=i("/ocq"),_=i("lO7g"),h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs12:""}},[e("h1",[this._v("404")]),this._v(" "),e("p",[e("v-icon",[this._v("error")]),this._v(" Страница не найдена")],1)])],1)],1)},staticRenderFns:[]};var w=i("VU/8")({name:"404"},h,!1,function(t){i("bkc+")},"data-v-60dbe770",null).exports,b=i("NYxO"),D=i("Xxa5"),k=i.n(D),x=i("exGp"),L=i.n(x),R=i("Zrlr"),y=i.n(R),P=i("kxiW"),U=function t(e){y()(this,t),this.id=e},$={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(t,e){var i=this,o=t.commit,n=e.email,r=e.password;return L()(k.a.mark(function t(){var e;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("clearError"),o("setLoading",!0),t.prev=2,t.next=5,P.auth().createUserWithEmailAndPassword(n,r);case 5:e=t.sent,o("setUser",new U(e.uid)),o("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(2),o("setLoading",!1),o("setError",t.t0.message),t.t0;case 15:case"end":return t.stop()}},t,i,[[2,10]])}))()},loginUser:function(t,e){var i=this,o=t.commit,n=e.email,r=e.password;return L()(k.a.mark(function t(){var e;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o("clearError"),o("setLoading",!0),t.prev=2,t.next=5,P.auth().signInWithEmailAndPassword(n,r);case 5:e=t.sent,o("setUser",new U(e.uid)),o("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(2),o("setLoading",!1),o("setError",t.t0.message),t.t0;case 15:case"end":return t.stop()}},t,i,[[2,10]])}))()},autoLoginUser:function(t,e){(0,t.commit)("setUser",new U(e.uid))},logoutUser:function(t){var e=t.commit;P.auth().signOut().then(function(){e("setUser",null)}).catch(function(t){return console.log(t)})}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user}}};o.default.use(b.a);var E=new b.a.Store({modules:{dialog:{state:{loginDialog:!1,registerDialog:!1,resetPasswordDialog:!1},mutations:{setLoginDialog:function(t,e){t.loginDialog=!t.loginDialog},setRegisterDialog:function(t,e){t.registerDialog=!t.registerDialog},setResetPasswordDialog:function(t,e){t.resetPasswordDialog=!t.resetPasswordDialog}},actions:{togleLoginDialog:function(t,e){(0,t.commit)("setLoginDialog")},togleRegisterDialog:function(t,e){(0,t.commit)("setRegisterDialog")},togleResetPasswordDialog:function(t,e){(0,t.commit)("setResetPasswordDialog")}},getters:{loginDialog:function(t){return t.loginDialog},registerDialog:function(t){return t.registerDialog},resetPasswordDialog:function(t){return t.resetPasswordDialog}}},user:$,common:{state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){(0,t.commit)("setLoading",e)},setError:function(t,e){(0,t.commit)("setError",e)},clearError:function(t){(0,t.commit)("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}}}});o.default.use(p.a);var q=function(t,e,i){E.getters.user?i():i("/")},I=new p.a({routes:[{path:"",name:"home",component:_.default},{path:"/board",name:"board",component:function(t){i.e(0).then(function(){t(i("TUcH"))}.bind(null,i)).catch(i.oe)},beforeEnter:q},{path:"/user",name:"user",component:function(t){i.e(1).then(function(){t(i("jyJz"))}.bind(null,i)).catch(i.oe)},beforeEnter:q},{path:"*",component:w}],mode:"history"}),C=i("3EgV"),F=i.n(C);i("7zck");o.default.use(F.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:I,store:E,components:{App:f},template:"<App/>",created:function(){var t=this;P.initializeApp({apiKey:"AIzaSyDH6TX3aNTvu9qEPpaOqLqdTg8lHzouskQ",authDomain:"app-commands.firebaseapp.com",databaseURL:"https://app-commands.firebaseio.com",projectId:"app-commands",storageBucket:"",messagingSenderId:"732797851970",appId:"1:732797851970:web:6de937449cf4b0db"}),P.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoLoginUser",e)})}})},VzBD:function(t,e,i){"use strict";var o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-parallax",{attrs:{height:"300",src:"https://cdn.vuetifyjs.com/images/parallax/material2.jpg"}},[i("v-layout",{attrs:{"align-center":"",column:"","justify-center":""}},[i("h1",{staticClass:"display-2 font-weight-thin mb-3"},[t._v("Твоя вторая память")])])],1),t._v(" "),t._l(3,function(e,o){return i("v-container",{key:o},[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[i("v-card-text",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusantium assumenda\n                    culpa debitis error expedita facilis ipsum molestiae neque nobis numquam, quam sed, velit?\n                    Culpa cupiditate eos illo libero quibusdam!\n                ")])],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[i("v-img",{attrs:{src:"https://picsum.photos/500/300?image="+(5*e+10),"lazy-src":"https://picsum.photos/10/6?image="+(5*e+10)}})],1)],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[i("v-img",{attrs:{src:"https://picsum.photos/500/300?image="+(5*e+9),"lazy-src":"https://picsum.photos/10/6?image="+(5*e+9)}})],1),t._v(" "),i("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[i("v-card-text",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusantium assumenda\n                    culpa debitis error expedita facilis ipsum molestiae neque nobis numquam, quam sed, velit?\n                    Culpa cupiditate eos illo libero quibusdam!\n                ")])],1)],1)],1)})],2)},staticRenderFns:[]};e.a=o},"bkc+":function(t,e){},lO7g:function(t,e,i){"use strict";var o=i("Fs8J"),n=i.n(o),r=i("VzBD");var s=function(t){i("mXrd")},a=i("VU/8")(n.a,r.a,!1,s,"data-v-86faa764",null);e.default=a.exports},mXrd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map